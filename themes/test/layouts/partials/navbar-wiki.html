<header class="navbar navbar-expand-lg bd-navbar sticky-top" id="wiki-navbar">
  <nav
    class="container-xxl bd-gutter flex-wrap flex-lg-nowrap"
    aria-label="Main navigation"
  >
    <div class="bd-navbar-toggle">
      <button
        class="navbar-toggler p-2"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#wikiSidebar"
        aria-controls="wikiSidebar"
        aria-label="Toggle wiki navigation"
      >
        {{ partial "svg/hamburger.svg" (dict "class" "bi" "width" "24" "height" "24") }}
        <span class="d-none fs-6 pe-1">Browse</span>
      </button>
    </div>

    <a class="navbar-brand p-0 me-0 me-lg-2" href="/" aria-label="Whatmakeart">
      {{ $footerLogo := resources.Get "img/whatmakeart-logo.png" }}
      <img
        src="{{ $footerLogo.RelPermalink }}"
        class="img-fluid d-block my-1"
        alt="What make art Wiki Logo"
        width="40"
        height="40"
      />
    </a>

    <div class="d-flex">
      <button
        class="navbar-toggler d-flex d-lg-none order-3 p-2"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#bdNavbar"
        aria-controls="bdNavbar"
        aria-label="Toggle navigation"
      >
        <svg class="bi" aria-hidden="true">
          <use xlink:href="#three-dots"></use>
        </svg>
      </button>
    </div>

    <div
      class="offcanvas-lg offcanvas-end flex-grow-1"
      tabindex="-1"
      id="bdNavbar"
      aria-labelledby="bdNavbarOffcanvasLabel"
      data-bs-scroll="true"
    >
      <div class="offcanvas-header px-4 pb-0">
        <h5 class="offcanvas-title text-white" id="bdNavbarOffcanvasLabel">
          Whatmakeart
        </h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
          data-bs-target="#bdNavbar"
        ></button>
      </div>

      <div class="offcanvas-body p-4 pt-0 p-lg-0">
        <hr class="d-lg-none text-white-50" />
        <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
          {{ $currentPage := . }}
          {{ range .Site.Menus.main }}
            <li class="nav-item col-6 col-lg-auto">
              <a
                class="nav-link py-2 px-0 px-lg-2 {{ if $currentPage.IsMenuCurrent " main" . }}
                  active
                {{ end }}"
                href="{{ .URL }}"
              >
                {{ .Name }}
              </a>
            </li>
          {{ end }}
        </ul>

        <hr class="d-lg-none text-white-50" />

        <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
          <li class="nav-item col-6 col-lg-auto">
            <a
              class="nav-link py-2 px-0 px-lg-2"
              href="https://youtube.com/whatmakeart"
              target="_blank"
              rel="noopener"
            >
              {{ partial "svg/youtube.svg" (dict "class" "navbar-nav-svg" "width" "16" "height" "16") }}
              <small class="d-lg-none ms-2">YouTube</small>
            </a>
          </li>

          <li class="nav-item col-6 col-lg-auto">
            <a
              class="nav-link py-2 px-0 px-lg-2"
              href="https://www.instagram.com/whatmakeart/"
              target="_blank"
              rel="noopener"
            >
              {{ partial "svg/instagram.svg" (dict "class" "navbar-nav-svg" "width" "16" "height" "16") }}
              <small class="d-lg-none ms-2">Instagram</small>
            </a>
          </li>
          <li class="nav-item col-6 col-lg-auto">
            <a
              class="nav-link py-2 px-0 px-lg-2"
              href="https://github.com/whatmakeart"
              target="_blank"
              rel="noopener"
            >
              {{ partial "svg/github.svg" (dict "class" "navbar-nav-svg" "width" "16" "height" "16") }}
              <small class="d-lg-none ms-2">GitHub</small>
            </a>
          </li>
          <li class="nav-item col-6 col-lg-auto">
            <a
              class="nav-link py-2 px-0 px-lg-2"
              href="https://mstdn.social/@whatmakeart"
              target="_blank"
              rel="noopener"
            >
              {{ partial "svg/mastodon.svg" (dict "class" "navbar-nav-svg" "width" "16" "height" "16") }}
              <small class="d-lg-none ms-2">Mastodon</small>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
